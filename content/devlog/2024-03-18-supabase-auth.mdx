---
title: "Supabase Auth 삽질기"
date: 2024-03-18
description: "Supabase 인증 시스템을 적용하면서 겪은 문제들과 해결 방법을 기록합니다."
tags: ["supabase", "auth", "troubleshooting"]
mood: "challenging"
---

## 오늘 겪은 문제

Jeju Local Map 프로젝트에 Supabase Auth를 적용하려고 했는데,
OAuth 리다이렉트에서 계속 에러가 났다.

### 증상

```
AuthApiError: Invalid redirect URL
```

Google OAuth 로그인 후 리다이렉트가 안 됨.

### 원인

Supabase 대시보드에서 Site URL과 Redirect URL 설정이 잘못되어 있었다.
로컬 개발 환경(`localhost:3000`)과 프로덕션 환경을 둘 다 등록해야 했는데,
프로덕션 URL만 등록해 놓은 상태였음.

### 해결

1. Supabase Dashboard > Authentication > URL Configuration
2. Redirect URLs에 `http://localhost:3000/**` 추가
3. 와일드카드(`**`)로 모든 서브 경로 허용

## 교훈

환경별 설정을 꼼꼼히 확인하자. 당연히 될 거라고 생각하면 오히려 오래 걸린다.

## 내일은

- 로그인 UI 다듬기
- 프로필 페이지 만들기
